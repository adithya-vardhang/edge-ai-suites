# ============================================================================
# RPPG Service Configuration
# ============================================================================

service:
  name: "rppg-service"
  version: "1.0.0"
  workload_type: "rppg"

video:
  # Use shared videos volume populated by assets-downloader
  input_path: "/videos/rppg/sample.mp4"
  target_fps: 30
  loop: true
  auto_download: true
  sample_url: "https://github.com/opencv/opencv/raw/master/samples/data/vtest.avi"

model:
  # Use shared models volume populated by assets-downloader
  # OpenVINO IR model generated by patient-monitoring-assets
  path: "/models/rppg/mtts_can.xml"
  batch_size: 10
  image_size: 36

preprocessing:
  # Face ROI crop ratios (from rppg-web)
  crop_top: 0.1
  crop_left: 0.3
  crop_bottom: 0.56
  crop_right: 0.7

postprocessing:
  sampling_rate: 30.0
  
  # Pulse (Heart Rate) filter
  pulse_lowcut: 0.75
  pulse_highcut: 2.5
  pulse_filter_order: 3
  
  # Respiration filter
  resp_lowcut: 0.1
  resp_highcut: 0.5
  resp_filter_order: 3
  
  waveform_samples: 150

aggregator:
  host: "localhost"           # Change to "aggregator-service" in Docker
  port: 50051
  retry_interval: 5

streaming:
  update_interval: 1.0        # Send vitals every 1 second
  chunk_duration: 5.0

streaming:
  update_interval: 1.0       # Send waveforms every 1 second
  numeric_interval: 5        # Send numeric aggregates every 5 batches
